<!DOCTYPE html>
<html>
	<head>
		<title>FairPair2</title>
		<link rel="icon" type="image/x-icon" href="favicon.ico" />
		<script
			type="module"
			src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"
		></script>
		<style>
			html, body {
				font-family: 'Courier New', Courier, monospace;
				font-size: 20px;
				overflow-x: hidden;
				overflow-y: auto;
			}
			input {
				font-family: 'Courier New', Courier, monospace;
			}
			th {
				border: 1px solid black;
			}
			table {
				border-collapse: collapse;
				margin: 5px auto;
			}
			td {
				padding: 0px;
				border: 1px solid black;
				width:  28px;
				height: 12px;
				position: relative;
				text-align: center;

				white-space: nowrap; 
				overflow: hidden;    
				text-overflow: ellipsis; 
			}
			tr:focus {
				background-color: yellow;
			}

			.ul {
				position: absolute;
				font-size: 12px;
				top: 0px;
				left: 1px;
			}
			.ur {
				position: absolute;
				font-size: 12px;
				top: 0px;
				right: 1px;
			}

			.ll {
				position: absolute;
				bottom: -4px; 
				left: 25%;
				transform: translateX(-50%); 
			}
			.lr {
				position: absolute;
				bottom: -4px; 
				left: 75%;
				transform: translateX(-50%); 
			}

			.current {
				background-color: yellow;
			}
		</style>
	</head>
	<body>

		<input id="input" type="file" style="position:absolute; top:1px; left:1%" accept=".txt" onchange="handleFileChange(event)">

		<script type="module">
			import { handleFile } from './coffee/sketch.js';
			window.handleFileChange = function(event) {
				const file = event.target.files[0];
				console.log(file.name);
				if (file) {file.text().then(text => {handleFile(file.name,text);}).catch(error => {console.error('Error reading file:', error);});}
				const button = document.getElementById('input');
				button.style.display = 'none';
			}
		</script>

		<div id="app"></div>
		<div id="info"></div>
	</body>
</html>
