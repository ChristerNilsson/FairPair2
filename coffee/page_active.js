// Generated by CoffeeScript 2.7.0
import {
  g,
  print,
  range,
  scalex,
  scaley
} from './globals.js';

import {
  Page
} from './page.js';

import {
  Button,
  spread
} from './button.js';

import {
  Lista
} from './lista.js';

export var Active = class Active extends Page {
  constructor() {
    super();
    // @buttons.ArrowLeft  = new Button '', '', () => g.setState g.NAMES
    // @buttons.ArrowRight = new Button '', '', () => g.setState g.STANDINGS
    this.buttons.p = new Button('Pair', 'P = Perform pairing now', () => {
      
      // @buttons.t.active = true
      // @buttons.n.active = true
      // @buttons.s.active = true
      return this.t.lotta();
    });
    this.buttons[' '] = new Button('toggle', 'space = pause/activate', () => {
      return this.t.playersByName[g.pages[g.state].lista.currentRow].toggle();
    });
    // @buttons.a.active = false
    // @buttons.a.help = @HELP
    this.setLista();
  }

  setLista() {
    this.lista = new Lista(this.t.playersByName, "Pause Name", this.buttons, function(p) {
      var s;
      s = p.active ? '      ' : 'pause ';
      return s + g.txtT(p.name, 25, LEFT);
    });
    return spread(this.buttons, 10, this.y, this.h);
  }

  // if g.tournament.virgin #round == 0
  // @buttons.t.active = false
  // @buttons.n.active = false
  // @buttons.s.active = false
  draw() {
    var button, key, ref, results;
    fill('white');
    this.showHeader(this.t.round);
    this.lista.draw();
    ref = this.buttons;
    results = [];
    for (key in ref) {
      button = ref[key];
      results.push(button.draw());
    }
    return results;
  }

  mouseWheel(event) {
    return this.lista.mouseWheel(event);
  }

  mousePressed(event) {
    return this.lista.mousePressed(event);
  }

  keyPressed(event) {
    if (this.buttons[key].active || (key === 'p' || key === ' ')) {
      return this.buttons[key].click();
    }
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZV9hY3RpdmUuanMiLCJzb3VyY2VSb290IjoiLi5cXCIsInNvdXJjZXMiOlsiY29mZmVlXFxwYWdlX2FjdGl2ZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUE7RUFBUyxDQUFUO0VBQVcsS0FBWDtFQUFpQixLQUFqQjtFQUF1QixNQUF2QjtFQUE4QixNQUE5QjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLElBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxNQUFUO0VBQWdCLE1BQWhCO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsS0FBVDtDQUFBLE1BQUE7O0FBRUEsT0FBQSxJQUFhLFNBQU4sTUFBQSxPQUFBLFFBQXFCLEtBQXJCO0VBRU4sV0FBYyxDQUFBLENBQUE7U0FDYixDQUFBLEVBQUY7OztJQUlFLElBQUMsQ0FBQSxPQUFPLENBQUMsQ0FBVCxHQUFzQixJQUFJLE1BQUosQ0FBVyxNQUFYLEVBQWtCLHlCQUFsQixFQUE2QyxDQUFBLENBQUEsR0FBQSxFQUFBOzs7OzthQUlsRSxJQUFDLENBQUEsQ0FBQyxDQUFDLEtBQUgsQ0FBQTtJQUprRSxDQUE3QztJQUt0QixJQUFDLENBQUEsT0FBTyxDQUFDLEdBQUQsQ0FBUixHQUFzQixJQUFJLE1BQUosQ0FBVyxRQUFYLEVBQXFCLHdCQUFyQixFQUNyQixDQUFBLENBQUEsR0FBQTthQUFNLElBQUMsQ0FBQSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUgsQ0FBUyxDQUFDLEtBQUssQ0FBQyxVQUF4QixDQUFtQyxDQUFDLE1BQXBELENBQUE7SUFBTixDQURxQixFQVR4Qjs7O0lBY0UsSUFBQyxDQUFBLFFBQUQsQ0FBQTtFQWZhOztFQWlCZCxRQUFXLENBQUEsQ0FBQTtJQUNWLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBSSxLQUFKLENBQVUsSUFBQyxDQUFBLENBQUMsQ0FBQyxhQUFiLEVBQTRCLFlBQTVCLEVBQTBDLElBQUMsQ0FBQSxPQUEzQyxFQUFvRCxRQUFBLENBQUMsQ0FBRCxDQUFBO0FBQy9ELFVBQUE7TUFBRyxDQUFBLEdBQU8sQ0FBQyxDQUFDLE1BQUwsR0FBaUIsUUFBakIsR0FBK0I7YUFDbkMsQ0FBQSxHQUFJLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLElBQVQsRUFBZSxFQUFmLEVBQW9CLElBQXBCO0lBRndELENBQXBEO1dBR1QsTUFBQSxDQUFPLElBQUMsQ0FBQSxPQUFSLEVBQWlCLEVBQWpCLEVBQXFCLElBQUMsQ0FBQSxDQUF0QixFQUF5QixJQUFDLENBQUEsQ0FBMUI7RUFKVSxDQWpCWjs7Ozs7O0VBMkJDLElBQU8sQ0FBQSxDQUFBO0FBQ1IsUUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTtJQUFFLElBQUEsQ0FBSyxPQUFMO0lBQ0EsSUFBQyxDQUFBLFVBQUQsQ0FBWSxJQUFDLENBQUEsQ0FBQyxDQUFDLEtBQWY7SUFDQSxJQUFDLENBQUEsS0FBSyxDQUFDLElBQVAsQ0FBQTtBQUNBO0FBQUE7SUFBQSxLQUFBLFVBQUE7O21CQUNDLE1BQU0sQ0FBQyxJQUFQLENBQUE7SUFERCxDQUFBOztFQUpNOztFQU9QLFVBQWEsQ0FBQyxLQUFELENBQUE7V0FBVyxJQUFDLENBQUEsS0FBSyxDQUFDLFVBQVAsQ0FBa0IsS0FBbEI7RUFBWDs7RUFDYixZQUFlLENBQUMsS0FBRCxDQUFBO1dBQVcsSUFBQyxDQUFBLEtBQUssQ0FBQyxZQUFQLENBQW9CLEtBQXBCO0VBQVg7O0VBQ2YsVUFBYSxDQUFDLEtBQUQsQ0FBQTtJQUFXLElBQUcsSUFBQyxDQUFBLE9BQU8sQ0FBQyxHQUFELENBQUssQ0FBQyxNQUFkLEtBQXdCLFFBQVEsT0FBUixRQUFZLElBQXZDO2FBQWlELElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBRCxDQUFLLENBQUMsS0FBZCxDQUFBLEVBQWpEOztFQUFYOztBQXRDUCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGcscHJpbnQscmFuZ2Usc2NhbGV4LHNjYWxleSB9IGZyb20gJy4vZ2xvYmFscy5qcycgXHJcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICcuL3BhZ2UuanMnIFxyXG5pbXBvcnQgeyBCdXR0b24sc3ByZWFkIH0gZnJvbSAnLi9idXR0b24uanMnIFxyXG5pbXBvcnQgeyBMaXN0YSB9IGZyb20gJy4vbGlzdGEuanMnIFxyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGl2ZSBleHRlbmRzIFBhZ2UgXHJcblxyXG5cdGNvbnN0cnVjdG9yIDogLT5cclxuXHRcdHN1cGVyKClcclxuXHJcblx0XHQjIEBidXR0b25zLkFycm93TGVmdCAgPSBuZXcgQnV0dG9uICcnLCAnJywgKCkgPT4gZy5zZXRTdGF0ZSBnLk5BTUVTXHJcblx0XHQjIEBidXR0b25zLkFycm93UmlnaHQgPSBuZXcgQnV0dG9uICcnLCAnJywgKCkgPT4gZy5zZXRTdGF0ZSBnLlNUQU5ESU5HU1xyXG5cdFx0QGJ1dHRvbnMucCAgICAgICAgICA9IG5ldyBCdXR0b24gJ1BhaXInLCdQID0gUGVyZm9ybSBwYWlyaW5nIG5vdycsICgpID0+IFxyXG5cdFx0XHQjIEBidXR0b25zLnQuYWN0aXZlID0gdHJ1ZVxyXG5cdFx0XHQjIEBidXR0b25zLm4uYWN0aXZlID0gdHJ1ZVxyXG5cdFx0XHQjIEBidXR0b25zLnMuYWN0aXZlID0gdHJ1ZVxyXG5cdFx0XHRAdC5sb3R0YSgpXHJcblx0XHRAYnV0dG9uc1snICddICAgICAgID0gbmV3IEJ1dHRvbiAndG9nZ2xlJywgJ3NwYWNlID0gcGF1c2UvYWN0aXZhdGUnLCBcclxuXHRcdFx0KCkgPT4gQHQucGxheWVyc0J5TmFtZVtnLnBhZ2VzW2cuc3RhdGVdLmxpc3RhLmN1cnJlbnRSb3ddLnRvZ2dsZSgpXHJcblxyXG5cdFx0IyBAYnV0dG9ucy5hLmFjdGl2ZSA9IGZhbHNlXHJcblx0XHQjIEBidXR0b25zLmEuaGVscCA9IEBIRUxQXHJcblx0XHRAc2V0TGlzdGEoKVxyXG5cclxuXHRzZXRMaXN0YSA6IC0+XHJcblx0XHRAbGlzdGEgPSBuZXcgTGlzdGEgQHQucGxheWVyc0J5TmFtZSwgXCJQYXVzZSBOYW1lXCIsIEBidXR0b25zLCAocCkgLT5cclxuXHRcdFx0cyA9IGlmIHAuYWN0aXZlIHRoZW4gJyAgICAgICcgZWxzZSAncGF1c2UgJ1xyXG5cdFx0XHRzICsgZy50eHRUIHAubmFtZSwgMjUsICBMRUZUXHJcblx0XHRzcHJlYWQgQGJ1dHRvbnMsIDEwLCBAeSwgQGhcclxuXHRcdCMgaWYgZy50b3VybmFtZW50LnZpcmdpbiAjcm91bmQgPT0gMFxyXG5cdFx0XHQjIEBidXR0b25zLnQuYWN0aXZlID0gZmFsc2VcclxuXHRcdFx0IyBAYnV0dG9ucy5uLmFjdGl2ZSA9IGZhbHNlXHJcblx0XHRcdCMgQGJ1dHRvbnMucy5hY3RpdmUgPSBmYWxzZVxyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdGZpbGwgJ3doaXRlJ1xyXG5cdFx0QHNob3dIZWFkZXIgQHQucm91bmRcclxuXHRcdEBsaXN0YS5kcmF3KClcclxuXHRcdGZvciBrZXksYnV0dG9uIG9mIEBidXR0b25zXHJcblx0XHRcdGJ1dHRvbi5kcmF3KClcclxuXHJcblx0bW91c2VXaGVlbCA6IChldmVudCApLT4gQGxpc3RhLm1vdXNlV2hlZWwgZXZlbnRcclxuXHRtb3VzZVByZXNzZWQgOiAoZXZlbnQpIC0+IEBsaXN0YS5tb3VzZVByZXNzZWQgZXZlbnRcclxuXHRrZXlQcmVzc2VkIDogKGV2ZW50KSAtPiBpZiBAYnV0dG9uc1trZXldLmFjdGl2ZSBvciBrZXkgaW4gWydwJywnICddIHRoZW4gQGJ1dHRvbnNba2V5XS5jbGljaygpIl19
//# sourceURL=c:\github\FairPair2\coffee\page_active.coffee