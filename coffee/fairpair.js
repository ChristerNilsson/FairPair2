// Generated by CoffeeScript 2.7.0
var data, datum, xdraw;

import {
  parseExpr
} from './parser.js';

import {
  g,
  print,
  range
} from './globals.js';

import {
  Button,
  spread
} from './button.js';

import {
  Lista
} from './lista.js';

import {
  Tournament
} from './tournament.js';

import {
  Tables
} from './page_tables.js';

import {
  Names
} from './page_names.js';

import {
  Standings
} from './page_standings.js';

import {
  Active
} from './page_active.js';

export var handleFile = function(filename, data) {
  return g.tournament.fetchData(filename, data);
};

g.RINGS = {
  'b': 'b',
  ' ': ' ',
  'w': 'w'
};

g.ASCII = '0123456789abcdefg';

g.ALFABET = '123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'; // 62 ronder maximalt

datum = '';

g.tournament = null;

g.errors = []; // id för motsägelsefulla resultat. Tas bort med Delete

g.pages = [];

data = `TITLE=Senior Stockholm
DATE=2024-05-28

1598!AIKIO Onni
1539!ANDERSSON Lars Owe
1532!ANTONSSON Görgen
1697!BJÖRKDAHL Göran
1598!ISRAEL Dan
1825!JOHANSSON Lennart
1559!LEHVONEN Jouko
1561!LILJESTRÖM Tor
1583!PERSSON Kjell
1644!PETTERSSON Lars-Åke
1684!SILINS Peteris
1681!STOLOV Leonid
1400!STRÖMBÄCK Henrik
1535!ÅBERG Lars-Erik`;

window.windowResized = function() {
  resizeCanvas(windowWidth, windowHeight - 4);
  g.LPP = Math.trunc(height / g.ZOOM[g.state] - 4.5);
  return xdraw();
};

window.setup = function() {
  createCanvas(windowWidth - 4, windowHeight - 4);
  textFont('Courier New');
  // textAlign window.LEFT,window.TOP
  textAlign(CENTER, CENTER);
  rectMode(window.CORNER);
  noStroke();
  g.ZOOM = [
    20,
    20,
    20,
    20 // vertical line distance for four states
  ];
  g.state = g.TABLES;
  g.LPP = Math.trunc(height / g.ZOOM[g.state] - 4.5);
  g.N = 0; // number of players
  g.tournament = new Tournament();
  g.state = g.ACTIVE;
  g.pages = [new Tables(), new Names(), new Standings(), new Active()];
  print(g.pages);
  // print data
  g.tournament.fetchData("DEMO", data);
  return window.windowResized();
};

xdraw = function() {
  background('gray');
  textSize(g.ZOOM[g.state]);
  return g.pages[g.state].draw();
};

window.mouseMoved = function(event) {
  g.pages[g.state].mouseMoved(event);
  return xdraw();
};

window.mousePressed = function(event) {
  g.pages[g.state].mousePressed(event);
  return xdraw();
};

window.mouseWheel = function(event) {
  g.pages[g.state].mouseWheel(event);
  return xdraw();
};

window.keyPressed = function(event) {
  var key2;
  key2 = key;
  if (key2 === 'Control' || key2 === 'Shift' || key2 === 'I') {
    return;
  }
  if (key2 === '1') {
    key2 = 'K1';
  }
  if (key2 === '0') {
    key2 = 'K0';
  }
  g.pages[g.state].keyPressed(event, key2);
  return xdraw();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFpcnBhaXIuanMiLCJzb3VyY2VSb290IjoiLi5cXCIsInNvdXJjZXMiOlsiY29mZmVlXFxmYWlycGFpci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsU0FBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLENBQVQ7RUFBVyxLQUFYO0VBQWlCLEtBQWpCO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsTUFBVDtFQUFnQixNQUFoQjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLEtBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxVQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsTUFBVDtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFTLEtBQVQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUyxTQUFUO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVMsTUFBVDtDQUFBLE1BQUE7O0FBRUEsT0FBQSxJQUFPLFVBQUEsR0FBYSxRQUFBLENBQUMsUUFBRCxFQUFVLElBQVYsQ0FBQTtTQUFtQixDQUFDLENBQUMsVUFBVSxDQUFDLFNBQWIsQ0FBdUIsUUFBdkIsRUFBZ0MsSUFBaEM7QUFBbkI7O0FBRXBCLENBQUMsQ0FBQyxLQUFGLEdBQVU7RUFBQyxHQUFBLEVBQUksR0FBTDtFQUFVLEdBQUEsRUFBSSxHQUFkO0VBQW1CLEdBQUEsRUFBSTtBQUF2Qjs7QUFDVixDQUFDLENBQUMsS0FBRixHQUFVOztBQUNWLENBQUMsQ0FBQyxPQUFGLEdBQVksZ0VBZFo7O0FBZ0JBLEtBQUEsR0FBUTs7QUFFUixDQUFDLENBQUMsVUFBRixHQUFlOztBQUNmLENBQUMsQ0FBQyxNQUFGLEdBQVcsR0FuQlg7O0FBb0JBLENBQUMsQ0FBQyxLQUFGLEdBQVU7O0FBRVYsSUFBQSxHQUFPLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUE7O0FBb0JQLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLFFBQUEs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QVMsQ0FBQyxVQUFqQixDQUE0QixLQUE1QixFQUFrQyxJQUFsQztTQUNBLEtBQUEsQ0FBQTtBQU5xQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlRXhwciB9IGZyb20gJy4vcGFyc2VyLmpzJ1xyXG5pbXBvcnQgeyBnLHByaW50LHJhbmdlIH0gZnJvbSAnLi9nbG9iYWxzLmpzJyBcclxuaW1wb3J0IHsgQnV0dG9uLHNwcmVhZCB9IGZyb20gJy4vYnV0dG9uLmpzJyBcclxuaW1wb3J0IHsgTGlzdGEgfSBmcm9tICcuL2xpc3RhLmpzJyBcclxuaW1wb3J0IHsgVG91cm5hbWVudCB9IGZyb20gJy4vdG91cm5hbWVudC5qcycgXHJcbmltcG9ydCB7IFRhYmxlcyB9IGZyb20gJy4vcGFnZV90YWJsZXMuanMnIFxyXG5pbXBvcnQgeyBOYW1lcyB9IGZyb20gJy4vcGFnZV9uYW1lcy5qcycgXHJcbmltcG9ydCB7IFN0YW5kaW5ncyB9IGZyb20gJy4vcGFnZV9zdGFuZGluZ3MuanMnIFxyXG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tICcuL3BhZ2VfYWN0aXZlLmpzJyBcclxuXHJcbmV4cG9ydCBoYW5kbGVGaWxlID0gKGZpbGVuYW1lLGRhdGEpIC0+IGcudG91cm5hbWVudC5mZXRjaERhdGEgZmlsZW5hbWUsZGF0YVx0XHJcblxyXG5nLlJJTkdTID0geydiJzonYicsICcgJzonICcsICd3Jzondyd9XHJcbmcuQVNDSUkgPSAnMDEyMzQ1Njc4OWFiY2RlZmcnXHJcbmcuQUxGQUJFVCA9ICcxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyAjIDYyIHJvbmRlciBtYXhpbWFsdFxyXG5cclxuZGF0dW0gPSAnJ1xyXG5cclxuZy50b3VybmFtZW50ID0gbnVsbFxyXG5nLmVycm9ycyA9IFtdICMgaWQgZsO2ciBtb3Rzw6RnZWxzZWZ1bGxhIHJlc3VsdGF0LiBUYXMgYm9ydCBtZWQgRGVsZXRlXHJcbmcucGFnZXMgPSBbXVxyXG4gXHJcbmRhdGEgPSBcIlwiXCJcclxuVElUTEU9U2VuaW9yIFN0b2NraG9sbVxyXG5EQVRFPTIwMjQtMDUtMjhcclxuXHJcbjE1OTghQUlLSU8gT25uaVxyXG4xNTM5IUFOREVSU1NPTiBMYXJzIE93ZVxyXG4xNTMyIUFOVE9OU1NPTiBHw7ZyZ2VuXHJcbjE2OTchQkrDllJLREFITCBHw7ZyYW5cclxuMTU5OCFJU1JBRUwgRGFuXHJcbjE4MjUhSk9IQU5TU09OIExlbm5hcnRcclxuMTU1OSFMRUhWT05FTiBKb3Vrb1xyXG4xNTYxIUxJTEpFU1RSw5ZNIFRvclxyXG4xNTgzIVBFUlNTT04gS2plbGxcclxuMTY0NCFQRVRURVJTU09OIExhcnMtw4VrZVxyXG4xNjg0IVNJTElOUyBQZXRlcmlzXHJcbjE2ODEhU1RPTE9WIExlb25pZFxyXG4xNDAwIVNUUsOWTULDhENLIEhlbnJpa1xyXG4xNTM1IcOFQkVSRyBMYXJzLUVyaWtcclxuXCJcIlwiXHJcblxyXG53aW5kb3cud2luZG93UmVzaXplZCA9IC0+IFxyXG5cdHJlc2l6ZUNhbnZhcyB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0IC0gNFxyXG5cdGcuTFBQID0gTWF0aC50cnVuYyBoZWlnaHQgLyBnLlpPT01bZy5zdGF0ZV0gLSA0LjVcclxuXHR4ZHJhdygpXHJcblxyXG53aW5kb3cuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aC00LHdpbmRvd0hlaWdodC00XHJcblx0dGV4dEZvbnQgJ0NvdXJpZXIgTmV3J1xyXG5cdCMgdGV4dEFsaWduIHdpbmRvdy5MRUZULHdpbmRvdy5UT1BcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHJlY3RNb2RlIHdpbmRvdy5DT1JORVJcclxuXHRub1N0cm9rZSgpXHJcblxyXG5cdGcuWk9PTSA9IFsyMCwyMCwyMCwyMF0gIyB2ZXJ0aWNhbCBsaW5lIGRpc3RhbmNlIGZvciBmb3VyIHN0YXRlc1xyXG5cdGcuc3RhdGUgPSBnLlRBQkxFU1xyXG5cdGcuTFBQID0gTWF0aC50cnVuYyBoZWlnaHQgLyBnLlpPT01bZy5zdGF0ZV0gLSA0LjVcclxuXHJcblx0Zy5OID0gMCAjIG51bWJlciBvZiBwbGF5ZXJzXHJcblx0Zy50b3VybmFtZW50ID0gbmV3IFRvdXJuYW1lbnQoKVxyXG5cdGcuc3RhdGUgPSBnLkFDVElWRVxyXG5cclxuXHRnLnBhZ2VzID0gW25ldyBUYWJsZXMsIG5ldyBOYW1lcywgbmV3IFN0YW5kaW5ncywgbmV3IEFjdGl2ZV1cclxuXHRwcmludCBnLnBhZ2VzXHJcblxyXG5cdCMgcHJpbnQgZGF0YVxyXG5cdGcudG91cm5hbWVudC5mZXRjaERhdGEgXCJERU1PXCIsZGF0YVxyXG5cclxuXHR3aW5kb3cud2luZG93UmVzaXplZCgpXHJcblxyXG54ZHJhdyA9IC0+IFxyXG5cdGJhY2tncm91bmQgJ2dyYXknXHJcblx0dGV4dFNpemUgZy5aT09NW2cuc3RhdGVdXHJcblx0Zy5wYWdlc1tnLnN0YXRlXS5kcmF3KClcclxuXHJcbndpbmRvdy5tb3VzZU1vdmVkID0gKGV2ZW50KSAtPiBcclxuXHRnLnBhZ2VzW2cuc3RhdGVdLm1vdXNlTW92ZWQgZXZlbnRcclxuXHR4ZHJhdygpXHJcblxyXG53aW5kb3cubW91c2VQcmVzc2VkID0gKGV2ZW50KSAtPiBcclxuXHRnLnBhZ2VzW2cuc3RhdGVdLm1vdXNlUHJlc3NlZCBldmVudFxyXG5cdHhkcmF3KClcclxuXHJcbndpbmRvdy5tb3VzZVdoZWVsID0gKGV2ZW50KSAtPiBcclxuXHRnLnBhZ2VzW2cuc3RhdGVdLm1vdXNlV2hlZWwgZXZlbnRcclxuXHR4ZHJhdygpXHJcblxyXG53aW5kb3cua2V5UHJlc3NlZCAgID0gKGV2ZW50KSAtPiBcclxuXHRrZXkyID0ga2V5XHJcblx0aWYga2V5MiBpbiBbJ0NvbnRyb2wnLCdTaGlmdCcsJ0knXSB0aGVuIHJldHVyblxyXG5cdGlmIGtleTIgPT0gJzEnIHRoZW4ga2V5MiA9ICdLMSdcclxuXHRpZiBrZXkyID09ICcwJyB0aGVuIGtleTIgPSAnSzAnXHJcblx0Zy5wYWdlc1tnLnN0YXRlXS5rZXlQcmVzc2VkIGV2ZW50LGtleTJcclxuXHR4ZHJhdygpXHJcbiJdfQ==
//# sourceURL=c:\github\FairPair\coffee\fairpair.coffee